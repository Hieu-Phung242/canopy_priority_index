library(sf)
library(dplyr)
library(leaflet)
library(DT)
library(sf)
library(dplyr)
library(leaflet)
library(DT)
nbhd <- st_read("neighborhood_master.geojson")
nbhd <- st_read("neighborhood_master.geojson", quiet = TRUE) %>%
st_transform(4326)
library(sf)
library(dplyr)
library(leaflet)
library(DT)
library(sf)
library(dplyr)
library(leaflet)
library(DT)
# Canopy Priority Index (CPI) Map
# Color palette for CPI classes
pal_cpi <- colorFactor(
palette = c(
"High" = "#d73027",
"Medium" = "#fee08b",
"Low" = "#1a9850"
),
domain = nbhd$CPI_class
)
# Leaflet map
leaflet(nbhd) %>%
addProviderTiles(providers$CartoDB.Positron) %>%
addPolygons(
fillColor = ~pal_cpi(CPI_class),
fillOpacity = 0.75,
color = "black",
weight = 0.4,
label = ~paste0(
"<b>", Name, "</b><br>",
"CPI: ", round(CPI, 3), "<br>",
"Priority: ", CPI_class
),
highlightOptions = highlightOptions(
weight = 2,
color = "white",
bringToFront = TRUE
)
) %>%
addLegend(
pal = pal_cpi,
values = ~CPI_class,
title = "CPI Priority"
)
